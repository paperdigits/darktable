<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE dita
  PUBLIC "-//OASIS//DTD DITA Composite//EN" "../../../../dtd/ditabase.dtd">
<dita>
   <topic xml:lang="en-us" id="lighttable_chapter">
      <title>Lighttable</title>
      <prolog>
         <metadata>
            <keywords>
               <keyword>lighttable</keyword>
               <keyword>view</keyword>
            </keywords>
         </metadata>
      </prolog>
      <body>
         <p>
    The lighttable is where you manage all your images, ratings, export and much more.
  </p>
         <fig id="fig_jvf_fvp_dlb">
            <title>The lighttable view</title>
            <image href="../images/lighttable_view.png" placement="break" id="image_kvf_fvp_dlb" />
         </fig>
      </body>
      <topic xml:lang="en-us" id="lighttable_overview">
         <title>Overview</title>
         <prolog>
            <metadata>
               <keywords>
                  <indexterm><indexterm>color management<indexterm>display
                        profile</indexterm></indexterm></indexterm>
                  <indexterm>monitor profile</indexterm>
                  <indexterm>display profile</indexterm>
               </keywords>
            </metadata>
         </prolog>
         <body>
            <table frame="none">
               <tgroup colsep="0" rowsep="0" cols="2">
                  <colspec colwidth="6*"/>
                  <colspec colwidth="4*"/>
                  <tbody>
                     <row>
                        <entry>
              In the central view, your images are shown as thumbnails, surrounded by a frame.
              When the mouse is over an image, its rating and color labels are shown in the
              frame, along with an indicator
              <image href="../images/lighttable_thumb_icon_altered.png" width="3mm"/>
              of whether the image has already been altered in darkroom. Also, when the mouse
              hovers over an image frame, image information (EXIF data, metadata) is shown in
              the <xref href="#image_information">
                              <i>image
              information</i>
                           </xref> panel at the bottom left.
            </entry>
                        <entry>
                           <image href="../images/lighttable_thumb.png" align="center" placement="break"/>
                        </entry>
                     </row>
                  </tbody>
               </tgroup>
            </table>
            <p>
      While the mouse is over an image frame, there are a number of actions you can perform.
      Here is a table of keyboard shortcuts and assigned actions.
      <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="1*"/>
                     <colspec colwidth="3*"/>
                     <tbody>
                        <row>
                           <entry>
                              <i>0 – 5</i>
                           </entry>
                           <entry>
                set the rating of the image; if an image has 1 star and you hit the
                <i>1</i> key, the image will be unrated. Pressing
                <i>R</i> rejects the image.
              </entry>
                        </row>
                        <row>
                           <entry>
                              <i>F1 – F5</i>
                           </entry>
                           <entry>
                set a color label
              </entry>
                        </row>
                        <row>
                           <entry>
                              <i>Ctrl+C</i>
                           </entry>
                           <entry>
                copy the history stack
              </entry>
                        </row>
                        <row>
                           <entry>
                              <i>Ctrl+V</i>
                           </entry>
                           <entry>
                paste the copied history stack
              </entry>
                        </row>
                        <row>
                           <entry>
                              <i>D</i>
                           </entry>
                           <entry>
                open in darkroom view for developing
              </entry>
                        </row>
                        <row>
                           <entry>
                              <i>W</i>
                           </entry>
                           <entry>
                fully zoom into the image while the key is pressed
              </entry>
                        </row>
                        <row>
                           <entry>
                              <i>Ctrl+W</i>
                           </entry>
                           <entry>
                fully zoom into the image and show areas in focus
              </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </p>
            <p> The <indexterm>overlay</indexterm> button <image
                  href="../images/general_icon_overlay.png" align="center"/> located in the upper
               panel activates the permanent display of star ratings and image-changed indicator
                  <image href="../images/lighttable_thumb_icon_altered.png" width="3mm"/> on all
               thumbnails. By default these overlays are only visible on the thumbnail under the
               mouse cursor. An overlay button is also available in the other views where it affects
               the filmstrip accordingly (see <xref href="filmstrip_overview"/> and <xref
                  href="darkroom_filmstrip"/>). </p>
            <p>
      Pressing the
      <image href="../images/lighttable_icon_displayprofile.png" align="center"/>
      button on the right side of the bottom panel lets you define the color profile of your
      monitor. You can either set this to <q>system display profile</q> (default) and
      let darktable enquire the system's display profile, or alternatively set it to one of the
      ICC profiles located in <filepath>$DARKTABLE/share/darktable/color/out</filepath> and
      <filepath>$HOME/.config/darktable/color/out</filepath>. <filepath>$DARKTABLE</filepath> is
      used here to represent your chosen darktable installation directory and
      <filepath>$HOME</filepath> your home directory. For more details on color management see
      <xref href="color_management"/>.
    </p>
            <p>
      In the center of the bottom panel you have an option to choose between different layouts.
    </p>
         </body>
         <topic xml:lang="en-us" id="lighttable_filemanager">
            <title>Filemanager</title>
            <body>
               <p>
        This is the default mode to view thumbnails of the images.
      </p>
               <p>
        In this layout, you
        can can change the number of images in each row, using the slider next to the layouts
        option, or by using <i>Ctrl+(mouse wheel)</i>. Use your mouse wheel to
        navigate through your collection.
      </p>
               <p>
        You can navigate left/right/up/down through your collection using
        ←/→/↑/↓. Pressing <i>G</i> goes to
        the top, <i>Shift+G</i> to the bottom, <i>PageUp</i> brings
        you one page up and <i>PageDown</i> one page down.
      </p>
               <p>
        You can select the image under the pointer by <i>left-clicking</i> on its
        thumbnail or by pressing <i>Return</i>. A range of images is selected by
        <i>clicking</i> on the first one and then
        <i>Shift+clicking</i> on the last one. Images are added or removed from your
        selection by <i>Ctrl+clicking</i> on their thumbnails or pressing
        <i>Spacebar</i>.
      </p>
               <p>
        To locate where you are in a collection, there are indicators at the extreme borders of
        the window: left/right for your position.
      </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="lighttable_zoomable">
            <title>Zoomable lighttable</title>
            <body>
               <p>
        Zoomable lighttable layout inherits from most the filemanager features, with some noticeable
        changes :
      </p>
               <p>
        Scroll with your mouse wheel to zoom in and out. Moving the mouse while <i>pressing the left mouse
        button</i> allows you to navigate through your collection.
      </p>
               <p>
        To locate where you are in a collection, there are indicators at the extreme borders of
        the window: left/right and top/bottom for your vertical and your horizontal position, respectively.
      </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="lighttable_culling">
            <title>Culling</title>
            <body>
               <p>
        Culling layout allow to display images side by side to easily compare them. There's 2 different modes
        to define the number of images to show at the same time : <q>Fixed mode</q> and <q>Dynamic mode</q>.
      </p>
               <p>
        Once in culling mode, you can switch between those 2 mode with <i>&lt;</i> key accel.
      </p>
            </body>
            <topic xml:lang="en-us" id="lighttable_culling_fixed">
               <title>Fixed mode</title>
               <body>
                  <p> In fixed mode, the number of image to display is always the same,
                     independently of the selection length. This number can be set with the slider
                     in the bottom panel, near the modes option.</p>
                  <p>
          In this mode, you'll navigate through all selected images. If no selection is set
          (or if only 1 image is selected), you'll navigate through all images.
        </p>
                  <p>
          Default keyboard shortcut for entering culling in fixed mode is <i>X</i>.
        </p>
               </body>
            </topic>
            <topic xml:lang="en-us" id="lighttable_culling_dynamic">
               <title>Dynamic mode</title>
               <body>
                  <p>
          In dynamic mode, all the selected images are shown. If no selection is set (or if only 1 image is selected)
          last value from fixed mode is used.
        </p>
                  <p>
          Default keyboard shortcut for entering culling in dynamic mode is <i>Ctrl+X</i>.
        </p>
               </body>
               
            </topic>
            <topic xml:lang="en-us" id="lighttable_culling_zoom">
               <title>Zoom and pan</title>
               <body>
                  <p>
          In culling mode, you can zoom and pan in the images to see details. Images can be zoomed until 100%.
        </p>
                  <p>
                     <i>Ctrl+scroll</i> to zoom in/out images. <i>left click + drag</i> to pan in zoomed images.
        </p>
                  <p>
          By default, zooming and panning are synchronized between all visible images. If you want to zoom or pan only a specific image,
          add <i>Shift</i> key to above actions.
        </p>
                  <p>
          To enhance performance in zoomed images loading, you can enable the disk backend for full preview cache in preferences
          (see <xref href="../preferences/preferences.dita#core_options"/>). Keep in mind that this could take a lot of disk space...
        </p>
               </body>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="lighttable_fullpreview">
            <title>Full preview</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>focus detection</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
        While holding down the <i>W</i> key a fully zoomed preview of the image
        under the mouse cursor is displayed. You can use this feature for a quick inspection of
        image quality while rating and selecting images.
      </p>
               <p>
        Holding down the <i>Ctlr+W</i> key fully zooms into the image and
        additionally activates an analysis for sharp regions, detecting those parts of the image
        that are in focus. Areas of high sharpness are indicated by a red border – the
        higher the color intensity the better the sharpness. In case that no area of
        <i>high</i> sharpness is detected darktable indicates areas of
        <i>moderate</i> sharpness with a blue border. For this tool to work the
        input image needs to hold an embedded JPEG thumbnail which is the case for most raw files.
      </p>
               <p>
        Sometimes pressing <i>W</i> or <i>Ctrl+W</i> may not reveal an
        immediate effect – in that case please click into the center area and press the
        corresponding key again.
      </p>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     
                     <tbody>
                        <row>
                           <entry>
                Fully zoomed-in image view while holding down the <i>Ctrl+W</i> key
                with indication of the sharp areas in focus. Sharpness detection is based on an
                embedded JPEG thumbnail of the original raw file independent of any processing
                steps within darktable.
              </entry>
                           <entry>
                              <image href="../images/lighttable_focus_detection.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
               <p>
        If you want the full preview to stay, without having to hold <i>W</i> key,
        you can use sticky preview mode with <i>Alt+W</i> key or
        <i>Ctrl+Alt+W</i> if you want focus detection.
        In sticky preview mode, you can zoom and pan in the image, exactly like in culling layout
        (see <xref href="#lighttable_culling_zoom"/>).
      </p>
            </body>
         </topic>
      </topic>
      <topic xml:lang="en-us" id="lighttable_concepts">
         <title>Lighttable concepts</title>
         <body>
            <p>
    This section explains some of the underlying concepts on how darktable organizes images in
    the lighttable.
  </p>
         </body>
         <topic xml:lang="en-us" id="film_rolls">
            <title>Film rolls</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>film rolls</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    The basic element for organizing images in darktable is called a film roll – a
    kind of virtual folder. Whenever you import images from disk, the images are organized in a
    film roll whose name is derived from the name of the disk folder. Re-importing a disk folder
    will add any new images to the existing film roll; images already present in the film roll
    are not touched.
  </p>
               <p>
    It is important to note that importing images in darktable does not involve a physical copy
    step. Importing a folder into darktable is therefore <i>not</i> a backup
    operation of that folder.
  </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="collections">
            <title>Collections</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>collections</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    darktable offers a versatile feature to organize your images according to various user
    defined selection criteria. A set of images which is defined by a specific combination of
    selection criteria is called a collection. The most basic kind of collection is a film roll
     – covering all the images which have been imported from a specific folder on
    disk.
  </p>
               <p>
    You can easily construct other kinds of collections based on various image attributes like
    Exif data, filename, tags etc. Multiple criteria can be logically combined to narrow or
    extend your collection (see <xref href="#collect_images"/>).
  </p>
               <p>
    darktable keeps a list of the most recently used collections for quick access (see
    <xref href="#recently_used_collections"/>).
  </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="thumbnails">
            <title>Thumbnails</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>thumbnails</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    Each image of the current collection is represented by a thumbnail in the lighttable view.
    darktable keeps a cache of the last recently used thumbnails in a file on disk and loads it
    into memory at startup. The size of this cache can be adjusted in the core preferences
    dialog (see <xref href="../preferences/preferences.dita#core_options"/>).
  </p>
            </body>
            <topic xml:lang="en-us" id="thumbnail_creation">
               <title>Thumbnail creation</title>
               <body>
                  <p>
      Thumbnails get created whenever darktable imports an image for the first time, after an
      image has been modified in the darkroom, or when revisiting an <q>old</q> image
      whose thumbnail is no longer available.
    </p>
                  <p>
      When darktable imports an image for the first time, there are two possible sources from
      where to take a thumbnail. darktable can either try to extract an embedded thumbnail out
      of the input image – most raw files contain these kind of thumbnails generated
      by the camera – or process the image by itself using default settings. You can
      define how darktable gets its thumbnails in the GUI preferences dialog (see
      <xref href="../preferences/preferences.dita#gui_options"/>).
    </p>
                  <p>
      Extracting an embedded thumbnail from the input image has the advantage of being very
      fast. However, those thumbnails have been generated by the raw converter of the camera and
      do not represent darktable's <q>view</q> of that image. You will notice the
      difference as soon as you open the image in the darkroom mode, after which darktable
      replaces the embedded thumbnail with its own one.
    </p>
                  <p>
      After importing a new film roll darktable generates thumbnails for new images as they are
      needed. In the case of a larger set of new images this slows down navigation in the
      lighttable view as with each move new thumbnails might need to be produced. Alternatively
      you may terminate darktable and start the <filepath>darktable-generate-cache</filepath>
      binary. This program will generate all missing thumbnails in one go. For more details see
      <xref href="darktable_generate_cache_commandline_parameters"/>.
    </p>
                  <p>
      As the thumbnail cache file has a pre-defined maximum size it will eventually get filled
      up. Then if new thumbnails are added, old ones need to be dropped. However, darktable will
      keep all thumbnails on disk if the corresponding disk backend option is activated in the
      core preferences dialog (see <xref href="../preferences/preferences.dita#core_options"/>). Access to the thumbnails in
      this secondary cache is slower than to the ones in the primary cache, but still much
      faster than reprocessing thumbnails from scratch. The size of the secondary cache is only
      limited by disk space.
    </p>
                  <p>
      Thumbnails never get dropped from the secondary cache. In case you want to clean it up you
      can do so manually by deleting all images recursively in folder
      <filepath>$HOME/.cache/darktable/mipmaps-xyz.d</filepath> where <filepath>xyz</filepath>
      denotes an alphanumeric identifier of the cache. Afterwards you let darktable re-generate
      thumbnails as needed, or you generate all thumbnails in one go with
      <filepath>darktable-generate-cache</filepath>.
    </p>
                  <p>
      If you don't activate the disk backend and select a too small cache size you might observe
      adverse effects. Continuous regeneration of thumbnails whenever you move in your
      collection, flickering of thumbnail images, or even darktable becoming unresponsive are
      typical symptoms. A good choice of the cache size is 512MB or higher. Please mind that the
      inherent limits of <i>32-bit systems</i> will force you to go for a much
      lower cache size (see <xref href="darktable_and_memory"/> for more details on these
      limitations).
    </p>
                  <p>
      Starting with darktable 2.0 thumbnails are fully color managed if the corresponding option
      is activated in the core preferences dialog (see <xref href="../preferences/preferences.dita#core_options"/>). Colors
      are rendered accurately on screen as long as your system is properly set up to hand over
      the right monitor profile to darktable. For more information on color management see
      <xref href="color_management"/>.
    </p>
               </body>
            </topic>
            <topic xml:lang="en-us" id="skulls">
               <title>Skulls</title>
               <prolog>
                  <metadata>
                     <keywords>
                        <indexterm>skulls</indexterm>
                     </keywords>
                  </metadata>
               </prolog>
               <body>
                  <p>
                     <table frame="none">
                        <tgroup colsep="0" rowsep="0" cols="2">
                           <colspec colwidth="6*"/>
                           <colspec colwidth="4*"/>
                           
                           <tbody>
                              <row>
                                 <entry>
                                    <p>
                  If for some reason darktable is not able to generate a thumbnail, it displays
                  a skull. Don't panic!
                </p>
                                 </entry>
                                 <entry>
                                    <image href="concepts/images/thumbnails_1.png"
                                           align="center"
                                           placement="break"/>
                                 </entry>
                              </row>
                           </tbody>
                        </tgroup>
                     </table>
                  </p>
                  <p>
      There are three main reasons for this to happen.
    </p>
                  <p>
      One possible cause is that the input image has been renamed or physically deleted from
      disk. darktable remembers all images ever imported, as long as they have not been removed
      from your database. In case darktable wants to create a thumbnail but is not able to open
      the input file, a skull is displayed instead. Users are advised to remove images from the
      database (see <xref href="#selected_images"/>) <i>before</i> physically
      removing them from disk. Alternatively you may occasionally run the script
      <filepath>purge_non_existing_images.sh</filepath> from darktable's toolset to clean-up
      your database.
    </p>
                  <p>
      Another possible cause is sometimes darktable encounters an input image having an
      extension that seems valid for darktable but which has a file format that darktable does
      not support yet. darktable tries to process the image but is not able to get the job done.
    </p>
                  <p>
      The third possible cause for getting skulls is memory shortage: If darktable runs out of
      memory while generating a thumbnail, it will warn you and display a skull –
      this can happen if darktable is run with suboptimal settings, especially on a 32-bit
      system. Please consult <xref href="darktable_and_memory"/> for more information.
    </p>
               </body>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="star_ratings_and_color_labels">
            <title>Star ratings and color labels</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>star ratings</indexterm>
                     <indexterm>color labels</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    Star ratings and color labels help you to sort and rank images according to your own
    criteria. An image's star rating and its color labels are displayed in the thumbnail.
  </p>
               <p>
    You can give a rating from zero to five stars to an image. The quality criteria which lead
    to a rating are fully up to you. Whenever you import images, each image receives a default
    rating which you can define in <q>GUI options</q> (see
    <xref href="../preferences/preferences.dita#gui_options"/>). You can later revise the rating at any time. You can also
    mark an image as <q>rejected</q> by pressing the
    <image href="../images/lighttable_thumb_reject.png" align="center"/>
    icon or typing the <i>R</i> key. This will remove all stars. You can reverse
    the rejection by applying a new star rating.
  </p>
               <p>
    There are several ways to change a rating. While hovering the cursor over an image
    thumbnail, you can press a number key <i>0 – 5</i> for the number
    of stars, or type <i>R</i> to <q>reject</q> an image; this is probably
    the fastest way when rating your images on first inspection of a film roll.
  </p>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
              You can also directly click on the stars displayed in the thumbnails; click the
              <i>x</i> to reject, click the fifth star to get a rating of five
              stars, etc. Clicking either the <i>x</i> or the first star for a
              second time resets the image rating to unranked, or zero stars. The latter
              behavior can be changed in the <q>GUI options</q> dialog (see
              <xref href="../preferences/preferences.dita#gui_options"/>).
            </entry>
                              <entry>
                                 <image href="concepts/images/star_rating_thumbs.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        
                        <tbody>
                           <row>
                              <entry>
              To rate one or more images at once, select those images (see
              <xref href="#select"/>) and then press the key for your rating, or click the
              desired star rating in <i>the bottom panel</i> of the lighttable
              view.
            </entry>
                              <entry>
                                 <image href="concepts/images/star_rating_panel.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
               <p>
    Color labels are another way to sort images, and can be used as an alternative to star
    ratings or work alongside star ratings. Each image can carry any combination of one or more
    color labels in red, yellow, green, blue, and purple.
  </p>
               <p>
    You can set the color labels for a single image by hovering your cursor over the thumbnail
    and pressing the function keys <i>F1 – F5</i>, which correspond
    with the labels in the order given above.
  </p>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
              To toggle the color labels of one or more images, select the desired images (see
              <xref href="#select"/>) and then press the corresponding color button in the
              bottom panel. To remove all labels from the selected images, press the grey
              button.
            </entry>
                              <entry>
                                 <image href="concepts/images/color_labels_panel.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="filtering_and_sort_order">
            <title>Filtering and sort order</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>sort order</indexterm>
                     <indexterm>filtering</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
              The filtering and sort order of images in the lighttable view are controlled in
              the top panel.
            </entry>
                              <entry>
                                 <image href="concepts/images/filter_sort_panel.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
               <p>
    With filtering you limit the number of displayed images in your current collection (see also
    <xref href="#collect_images"/>). Filtering is mainly based on the star ratings of your
    images. A typical filtering rule will show all images that have a rating at or above the
    given number of stars (from one to five). The comparison operators is not restricted to
    <q>≥</q>. By clicking on the operator field you toggle between
    <q>≥</q>, <q>&gt;</q>, <q>≠</q>, <q>&lt;</q>,
    <q>≤</q>, and <q>=</q>.
  </p>
               <p>
    Alternatively you can make darktable display <q>all</q> images, only the
    <q>unstarred</q> ones, only the <q>rejected</q> images and all but the
    rejected ones.
  </p>
               <p>
    Images in the lighttable view can be displayed in different sort orders, depending on
    <q>filename</q>, <q>time</q> (when the photo was taken),
    <q>rating</q> (i.e. stars), <q>id</q> (an internal ordering number of
    darktable), <q>color labels</q>, <q>groups</q>, <q>full path</q>,
    <q>title</q>, <q>description</q>, <q>aspect ratio</q> or
    <q>custom order</q> (user can drag &amp; drop images, only available in the
    lighttable's file manager mode). You can sort in reversed order by toggling the
    triangle button to the right of the <q>sort by</q> combobox.
  </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="image_grouping">
            <title>Image grouping</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>group images</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    Grouping images helps improve structure and clarity of your image collection when displayed
    in lighttable view.
  </p>
               <p>
    You can combine images into a group by selecting them, and clicking the <q>group</q>
    button in the <i>selected image(s)</i> panel
    (<xref href="#selected_images"/>), or by typing <i>Ctrl+G</i>. Likewise, you
    can remove selected images from a group by clicking the <q>ungroup</q> button, or
    typing <i>Shift+Ctrl+G</i>. Images generated by duplicating an existing one,
    are automatically grouped. If you import images from the file system or camera, images with
    the same base name, but different extensions (eg. IMG_1234.CR2 and IMG_1234.JPG), will form
    a group.
  </p>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
                                 <p>
                Images which are members of a group are labeled with a <q>G</q> symbol
                in their thumbnails.
              </p>
                              </entry>
                              <entry>
                                 <image href="concepts/images/grouping_1.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
               <p>
    The group button
    <image href="../images/lighttable_icon_group.png"/>
    in the top panel of the lightroom view toggles grouping mode on and off. If grouping is off,
    each image is displayed as an individual thumb. If grouping is on, images of a group are
    collapsed, which means they are represented by a single thumbnail. This thumbnail you see is
    called the group head. If you press the <q>G</q> symbol in the group's thumbnail,
    only this group gets expanded; if you then expand another group, the first group collapses.
    To collapse an expanded group again, just click on the <q>G</q> symbol of its group
    head.
  </p>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
                                 <p>
                An expanded group in the filemanager mode of lighttable view is indicated by an
                orange frame which appears as soon as your mouse pointer hovers over one of the
                images.
              </p>
                              </entry>
                              <entry>
                                 <image href="concepts/images/grouping_2.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
               <p>
    You can define which image constitutes the group head, while in an expanded view of a group,
    clicking on the <q>G</q> symbol of the desired image. That symbol is shown only if 
    grouping mode is enabled, so to change the group head, you need to first enable group mode,
    then expand the group you want to change and then click the <q>G</q> symbol on the
    desired image.
  </p>
               <p>
    If you collapse an image group and then enter darkroom mode (e.g., by double-clicking on the
    thumbnail), the <i>group head</i> will be opened for developing.
  </p>
               <p>
    Image groups are a convenient way to protect an existing history stack against unintentional
    changes. Suppose you have just finalized an image and want to protect its current version:
    all you need to do is select the image, click <q>duplicate</q> in the
    <i>selected images</i> panel, and make sure that grouping is switched on and
    that the group is collapsed. Now, whenever you open the image group again in darkroom, only
    the group head will be altered. The underlying duplicate remains unchanged.
  </p>
               <p>
    Please note that <q>duplicating images</q> here only generates a copy of your
    history stack, stored in another small XMP file. There is still only one raw file, so you
    don't waste a lot of disk space.
  </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="sidecar_files">
            <title>Sidecar files</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>sidecar files</indexterm>
                     <indexterm>XMP files</indexterm>
                     <indexterm>save button</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    darktable is a non-destructive image editor. This means that darktable opens images
    read-only. Any newly added metadata, tags, and parameters of image operations (the
    <q>history stack</q>) are stored in separate <i>.xmp</i> files,
    so-called sidecars, allowing you to store information about the images as well as the full
    editing history without touching the original raw files. When you import an image into
    darktable for the first time, an XMP file with default settings is generated automatically.
  </p>
               <p>
    For a given source image, multiple editing versions, called duplicates, can co-exist,
    sharing the same input (raw) data but each having their own metadata, tags and history
    stack. Each duplicate is represented by a separate XMP sidecar file with a filename
    constructed in the form
    <q>&lt;basename&gt;<i>_nn</i>.&lt;extension&gt;.xmp</q>, where
    <i>nn</i> represents the (minimum two-digit) version number of that edit.
    Information for the initial edit – the <q>duplicate</q> with version
    number zero  – is stored in the sidecar file
    <q>&lt;basename&gt;.&lt;extension&gt;.xmp</q>. The version number of a duplicate is
    displayed in the image information panel in each of darktable's views (see an example in
    <xref href="#image_information"/>).
  </p>
               <p>
    Sidecar files automatically synchronize with your work without the need to press a
    <q>save</q> button. When backing up your data, make sure you also keep the XMP
    files, as these are needed to fully reconstruct your work in case of a disaster.
  </p>
               <p>
    In addition to the sidecar files, darktable keeps all image-related data in its database for
    fast access. An image can only be viewed and edited from within darktable if its data is
    loaded in that database. This automatically happens when you first import an image or at any
    later time by re-importing it (see <xref href="#import"/>). In the latter case the
    database gets updated with data that darktable finds in the sidecar files belonging to that
    image.
  </p>
               <p>
    Once an image has been imported into darktable the database entries take precedence over the
    XMP file. Subsequent changes to the XMP file by any other software are not visible to
    darktable – any changes get overwritten the next time darktable synchronizes the
    file. This behavior can be changed in the preferences dialog (see
    <xref href="../preferences/preferences.dita#core_options"/>). On request darktable looks for updated XMP files at startup
    and offers a choice whether to update the database or overwrite the XMP file.
  </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="importing_foreign_xmp">
            <title>Importing sidecar files generated by other applications</title>
            <body>
               <p>
    When importing an image, darktable automatically checks if this is accompanied by a sidecar
    file. Other than the formats <q>&lt;basename&gt;.&lt;extension&gt;.xmp</q> and
    <q>&lt;basename&gt;<i>_nn</i>.&lt;extension&gt;.xmp</q> darktable also
    checks for the presence of a file in the form <q>&lt;basename&gt;.xmp</q>.
    darktable's own sidecar files are always stored in the first format – the latter
    one would only be read – not overwritten.
  </p>
               <p>
    At present, darktable is able to deal with the following metadata of Lightroom generated
    sidecar files during the import phase:
    <ul>
                     <li> tags and hierarchical tags </li>
                     <li> color labels </li>
                     <li> ratings </li>
                     <li> GPS information </li>
                  </ul>
               </p>
               <p>
    In addition, darktable has been designed to help migrate some image operations from specific
    other applications. The aim is not to make darktable a drop-in replacement for any other
    software; it's just meant to help you recover part of the work you have invested into your
    image in case you migrate to darktable. It is very important to understand that this import
    process will never give identical results. The underlying development engines are very
    different from application to application, and additionally depend a lot on the specific
    image. In some cases, it will probably be close, and in some cases, the development will
    need manual adjustment in darktable.
  </p>
               <p>
    The migration happens automatically when entering the darkroom view, provided that a
    corresponding XMP sidecar is found.
  </p>
               <p>
    At present, darktable is able to deal with the following development steps from
    Lightroom-generated XMP files (with the corresponding darktable module in parentheses):
    <ul>
                     <li> crop and rotate <i>(crop and rotate)</i>
                     </li>
                     <li> black level <i>(exposure)</i>
                     </li>
                     <li> exposure <i>(exposure)</i>
                     </li>
                     <li> vignette <i>(vignette)</i>
                     </li>
                     <li> clarity <i>(local contrast)</i>
                     </li>
                     <li> tone curve <i>(tone curve)</i>
                     </li>
                     <li> HSL <i>(color zones)</i>
                     </li>
                     <li> split-toning <i>(split-toning)</i>
                     </li>
                     <li> grain <i>(grain)</i>
                     </li>
                     <li> spot removal <i>(spot removal)</i>
                     </li>
                  </ul>
               </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="local_copies">
            <title>Local copies</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>local copies</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
    Many users have huge image collections which they store on extra hard drives in their
    desktop computer, or on an external storage medium like a RAID NAS, etc. So it is a common
    use case to develop some images while travelling using a notebook and then later synchronize
    them to the original storage medium. But copying images manually from the main storage to
    the notebook and back is cumbersome and prone to errors.
  </p>
               <p>
    The <q>local copies</q> feature of darktable has been designed to directly support
    those use cases. You can create local copies of selected pictures on your computer's local
    drive. This local copy is always used when present, giving access to the picture if the
    external storage is no longer connected, and having the advantage of being faster than a
    slow external drive. At a later point, when connected again with your main storage medium,
    you can synchronize the XMP sidecar files, deleting the local copy of your input image.
    These operations can be found in the <i>selected images</i> panel (see
    <xref href="#selected_images"/>).
  </p>
               <p>
    For safety reasons, if local copies exist and the external storage is available, the local
    XMP sidecars are automatically synchronized at start up.
  </p>
               <p>
    The local copies are stored into the $HOME/.cache/darktable directory and named
    <q>img-&lt;SIGNATURE&gt;.&lt;EXT&gt;</q>, where:
    <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="3*"/>
                        
                        <tbody>
                           <row>
                              <entry>
                                 <i>SIGNATURE</i>
                              </entry>
                              <entry>
              is a hash signature (MD5) of the full pathname
            </entry>
                           </row>
                           <row>
                              <entry>
                                 <i>EXT</i>
                              </entry>
                              <entry>
              is the original filename extension
            </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
               <p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
                                 <p>
                A local copy is identified in the lighttable view with a white marker on the
                right of the thumbnail. In addition all local copies carry the
                <i>darktable|local-copy</i> tag for selecting them easily.
              </p>
                              </entry>
                              <entry>
                                 <image href="concepts/images/local_copies_1.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
            </body>
         </topic>
         <topic xml:lang="en-us" id="lt_undo_redo">
            <title>Undo/redo</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>undo</indexterm>
                     <indexterm>redo</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <p>
      Most changes in the lighttable are recorded and can be
      reverted. This includes modifications to color labels, ratings,
      geo-localization, tags, metadata, copy/paste of history, or
      applying a style.  Thanks to this recording, it is possible to
      undo changes or redo them to recover a previous state. Note that
      this undo/redo facility is unlimited in the number of steps
      while in the lighttable, but it is reset each time the view is
      switched (going to the darkroom for example).
    </p>
               <p>
      The default keyboard shortcuts are:
      <ul>
                     <li>
                        <i>Ctrl+Z</i> : undo last modifications </li>
                     <li>
                        <i>Ctrl+Y</i> : redo last undo (does nothing if undo has not been used yet) </li>
                  </ul>
               </p>
            </body>
         </topic>
      </topic>
      <topic xml:lang="en-us" id="lighttable_panels">
         <title>Lighttable panels</title>
         <topic xml:lang="en-us" id="import">
            <title>Import</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>import</indexterm></indexterm>
                     <indexterm>import</indexterm>
                     <indexterm>file import</indexterm>
                     <indexterm>camera import</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            This panel is for importing images into film rolls. You can either import a complete
            folder, by pressing <q>folder</q>, or a single image with
            <q>image</q>. You can also cause darktable to search for connected cameras
            by pressing <q>scan for devices</q>. If a supported camera is connected you
            can import directly from that camera or control the camera from within darktable in
            tethering mode.
          </entry>
                           <entry>
                              <image href="images/panel_import_1.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
               <p>
    Imported images are organized as film rolls (see <xref href="#film_rolls"/>). All film
    rolls are accessible through the <i>collect images</i> module (see
    <xref href="#collect_images"/>). If you set the selection attribute to <q>film
    roll</q> you get a list of available film rolls, which can be filtered using the editbox
    to quickly find the one of interest. Double-click on a film roll in the list and it will
    open in the lighttable. You can also click the items in <i>recently used
    collections</i> (see <xref href="#recently_used_collections"/>) to open the latest
    ones you have worked with.
  </p>
            </body>
            <topic xml:lang="en-us" id="import_from_fs">
               <title>Import from filesystem</title>
               <body>
                  <p>
      You can import either a single image, or a folder. The imported image(s) will show up in a
      film roll with the name of the filesystem folder.
    </p>
                  <p>
                     <image href="images/panel_import_2.png"
                            align="center"
                            placement="break"/>
                  </p>
                  <p>
      Clicking on <q>image</q> or <q>folder</q> opens a file selector dialog.
      Navigate through the filesystem, and select the item to import. On the lower part of the
      dialog, are some further import options.
    </p>
                  <p>
      As the name implies, checking <q>import directories recursively</q> will import
      images in the currently selected directory, and all subdirectories. It is not recommended,
      and wastes resources, to do this on an exhaustive list of images. darktable would generate
      thumbnails for all of them, but in the end only keep the recent ones in its cache. It is
      better to import images in smaller chunks, making logical film rolls.
    </p>
                  <p>
      Checking <q>ignore JPEG files</q> is a good choice if there are JPEG images in the
      same folder that you do not want to process; eg. if the camera stores RAW+JPEG, you often
      only want to work on the raws, leaving the JPEG images alone.
    </p>
                  <p>
      You can also apply some metadata during import; see <xref href="#metadata_editor"/> for
      more details.
    </p>
                  <p>
      Importing a folder does not mean that darktable copies your images into another folder. It
      just means that the images are visible in lighttable and thus can be developed. If you
      delete an image or a folder from disk after having imported them, darktable cannot access
      them anymore. Importing an image or folder in darktable is not a backup of your
      filesystem! Moreover, darktable does not watch for changes in the filesystem. Thus, if you
      add an image to a folder, after having imported that folder in darktable, the new image
      will not be shown until explicitly imported.
    </p>
               </body>
            </topic>
            <topic xml:lang="en-us" id="import_from_camera">
               <title>Importing from a connected camera</title>
               <body>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
              When a camera is detected, it will show up in the device panel after pressing
              <q>scan for devices</q>. If you hover your mouse over the camera tab
              label, a tooltip will pop up with information about the camera, such as model,
              firmware version, and more. Depending on the camera's support, buttons with
              actions will be available such as <q>import from camera</q> and
              <q>tethered shoot</q>.
            </entry>
                              <entry>
                                 <image href="images/panel_import_3.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </body>
               <topic xml:lang="en-us" id="import_from_camera_import">
                  <title>Import from camera</title>
                  <body>
                     <p>
        This will bring up an import dialog, showing the images on camera that can be selected
        for import into a film roll in darktable.
      </p>
                     <p>
        You define the base directory for storing imported images and the naming pattern of sub
        directories and individual images in the preferences dialog (see
        <xref href="session_options"/>).
      </p>
                  </body>
               </topic>
               <topic xml:lang="en-us" id="import_from_camera_tethering">
                  <title>Tethered shoot</title>
                  <body>
                     <p>
        Tethering is used to integrate darktable with your camera. While you take images with
        your camera, they are automatically imported into darktable, so you can review the
        result of the shoot. You can also setup remote capture jobs, controlling the number of
        images and time between captures, along with camera settings such as exposure time,
        aperture and more.
      </p>
                     <p>
        If supported by your camera, tethering will take you into the capture view for tethered
        shooting. Read more about tethering in <xref href="tethering_chapter"/>.
      </p>
                  </body>
               </topic>
            </topic>
            <topic xml:lang="en-us" id="supported_file_formats">
               <title>Supported file formats</title>
               <body>
                  <p>
      darktable is focused on managing and developing camera raw files. It supports a huge
      number of file formats from various camera manufacturers. In addition darktable can read
      specific <i>low dynamic range</i> and <i>high dynamic
      range</i> images – mainly for data exchange between darktable and other
      software.
    </p>
                  <p>
      In order for darktable to consider a file for import, it must have one of the following
      extensions (case independent): 3FR, ARI, ARW, BAY, BMQ, CAP, CINE, CR2, CRW, CS1, DC2,
      DCR, DNG, GPR, ERF, FFF, EXR, IA, IIQ, JPEG, JPG, K25, KC2, KDC, MDC, MEF, MOS, MRW, NEF, NRW,
      ORF, PEF, PFM, PNG, PXN, QTK, RAF, RAW, RDC, RW1, RW2, SR2, SRF, SRW, STI, TIF, TIFF, X3F.
    </p>
                  <p>
      If darktable was compiled with JPEG2000 support, these extensions are also recognized:
      J2C, J2K, JP2, JPC.
    </p>
                  <p>
      If darktable was compiled with GraphicsMagick support, the following extensions are
      recognized in addition to the standard ones: BMP, DCM, GIF, JNG, JPC, JP2, MIFF, MNG, PBM,
      PGM, PNM, PPM.
    </p>
               </body>
               <topic xml:lang="en-us" id="supported_file_formats_raw">
                  <title>Camera raw files</title>
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>import<indexterm>raw files</indexterm></indexterm>
                        </keywords>
                     </metadata>
                  </prolog>
                  <body>
                     <p>
        darktable reads raw files using the open source library
        <xref href="https://github.com/darktable-org/rawspeed"
                              format="html"
                              scope="external">RawSpeed</xref>, originally
        developed by Klaus Post and now maintained within the darktable project itself. The
        number of supported cameras and file formats is constantly increasing. It is beyond the
        scope of this manual to give an exhaustive list. Most modern camera models are
        supported, and new ones tend to get added very quickly. With the exception of Fujifilm
        X-Trans cameras, darktable does not decode images from cameras with non-Bayer sensors
        (e.g. Sigmas with the Foveon X3 sensor).
      </p>
                  </body>
               </topic>
               <topic xml:lang="en-us" id="supported_file_formats_ldr">
                  <title>LDR image files</title>
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>import<indexterm>LDR files</indexterm></indexterm>
                        </keywords>
                     </metadata>
                  </prolog>
                  <body>
                     <p>
        darktable natively reads <q>ordinary</q> images in JPEG, 8-bit/16-bit PNG and
        8-bit/16-bit TIFF format. JPEG2000 is also supported if the required libraries are
        present at compile time. Similarly, if darktable was compiled with GraphicsMagick
        support, there are further import formats, like GIF, Dicom DCM, additional exotic TIFF
        formats, and some of Sun's <q>portable xyz-map</q> family.
      </p>
                  </body>
               </topic>
               <topic xml:lang="en-us" id="supported_file_formats_hdr">
                  <title>HDR image files</title>
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>import<indexterm>HDR files</indexterm></indexterm>
                           <indexterm>HDR images</indexterm>
                        </keywords>
                     </metadata>
                  </prolog>
                  <body>
                     <p>
        darktable reads high dynamic range images in OpenEXR, RGBE and PFM format.
      </p>
                  </body>
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="collect_images">
            <title>Collect images</title>
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>collect images</indexterm></indexterm>
                     <indexterm>collect images</indexterm>
                     <indexterm>collections</indexterm>
                  </keywords>
               </metadata>
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            The current view in lighttable is called a collection. The <i>collect
            images</i> panel lets you narrow down the list of visible images to just the
            ones you want to work with.
          </entry>
                           <entry>
                              <image href="images/panel_collectimages.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
               <p>
    Information about all images imported into darktable are kept in a database, with various
    attributes describing each image. You define a collection by applying certain filtering
    rules to these attributes, creating a subset of images to display in the lighttable view.
  </p>
               <p>
    The default collection is based on the film roll attribute – it displays all
    images of the last imported film roll or any other film roll chosen.
  </p>
            </body>
            <topic xml:lang="en-us" id="collect_images_usage">
               <title>Usage</title>
               <topic xml:lang="en-us" id="collect_images_usage_attributes">
                  <title>image attributes</title>
                  <body>
                     <p>
        The left combobox lets you choose from the available attributes:
        <table frame="none">
                           <tgroup colsep="0" rowsep="0" cols="2">
                              <colspec colwidth="1*"/>
                              <colspec colwidth="3*"/>
                              <tbody>
                                 <row>
                                    <entry>
                  film roll
                </entry>
                                    <entry>
                                       <p>
                    the film roll to which the image belongs
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  folders
                </entry>
                                    <entry>
                                       <p>
                    the disk folder where the input image file is located
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  camera
                </entry>
                                    <entry>
                                       <p>
                    the Exif data entry describing the camera make and model
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  tag
                </entry>
                                    <entry>
                                       <p>
                    any tag that is attached to the image; if activated a hierarchical list of
                    known tags is displayed for quick selection
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  date
                </entry>
                                    <entry>
                                       <p>
                    the date when the photo was taken, in the format
                    <i>YYYY:MM:DD</i>
                                       </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  time
                </entry>
                                    <entry>
                                       <p>
                    the time (date <i>and</i> time of day) when the photo was
                    taken, in the format <i>YYYY:MM:DD hh:mm:ss</i>
                                       </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  history
                </entry>
                                    <entry>
                                       <p>
                    choose images whose history stacks have been altered or not altered
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  color label
                </entry>
                                    <entry>
                                       <p>
                    any color label that is attached to the image: <q>red</q>,
                    <q>yellow</q>, <q>green</q>, <q>blue</q>,
                    <q>purple</q>
                                       </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  title
                </entry>
                                    <entry>
                                       <p>
                    the title, as listed in the image's metadata <q>title</q> field
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  description
                </entry>
                                    <entry>
                                       <p>
                    the description, as listed in the image's metadata
                    <q>description</q> field
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  creator
                </entry>
                                    <entry>
                                       <p>
                    the creator, as listed in the image's metadata <q>creator</q> field
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  publisher
                </entry>
                                    <entry>
                                       <p>
                    the publisher, as listed in the image's metadata <q>publisher</q>
                    field
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  rights
                </entry>
                                    <entry>
                                       <p>
                    the copyrights statement, as written in the image's metadata
                    <q>rights</q> field
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  lens
                </entry>
                                    <entry>
                                       <p>
                    the Exif data entry describing the lens
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  focal length
                </entry>
                                    <entry>
                                       <p>
                    the focal length value, as derived from Exif data
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  ISO
                </entry>
                                    <entry>
                                       <p>
                    the ISO value, as derived from Exif data
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  aperture
                </entry>
                                    <entry>
                                       <p>
                    the aperture value, as derived from Exif data
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  filename
                </entry>
                                    <entry>
                                       <p>
                    the filename of the physical input image
                  </p>
                                    </entry>
                                 </row>
                                 <row>
                                    <entry>
                  geotagging
                </entry>
                                    <entry>
                                       <p>
                    the geo location of the image
                  </p>
                                    </entry>
                                 </row>
                              </tbody>
                           </tgroup>
                        </table>
                     </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="collect_images_usage_rules">
                  <title>search rules</title>
                  <body>
                     <p>
        In the text field to the right of the attribute, you write a pattern. The pattern is
        compared against all database entries with the selected attribute. This search detects a
        match if the images' attribute contains the pattern in its full text. You may use
        <i>%</i> as wildcard character. The collection gets limited to those
        images where the query matches. Leaving the text field empty matches all images for that
        attribute.
      </p>
                     <p>
        Attributes with numerical values as well as date and time attributes can be used in
        combination with comparative and range operators. Write <i>&lt;</i>,
        <i>&lt;=</i>, <i>&gt;</i>, <i>&gt;=</i>,
        <i>&lt;&gt;</i>, and <i>=</i> to select images with
        attributes less, less or equal, greater, greater or equal, not equal, or equal to the a
        given value, respectively. An expression in the form <i>[from;to]</i>
        selects a range of values.
      </p>
                     <p>
        The box below the search rule will list all matching database entries of the query you
        are currently working on. This list gets updated continuously as you type. You may also
        choose sorting criteria by scrolling through the list and double-clicking (or single-click
        if you have set the option in preferences. See <xref href="gui_options_lighttable"/>).
      </p>
                     <p>
        If you have set single-click mode, you'll be able to select range of values with mouse.
        This only works for numerical and date-time attributes.
      </p>
                     <p>
        Clicking on the triangle button to the right of the text field opens a drop-down menu
        with options to finetune your current collection by adding further rules, or removing
        them:
      </p>
                  </body>
                  <topic xml:lang="en-us" id="collect_images_usage_rules_clear">
                     <title>clear this rule</title>
                     <body>
                        <p>
          Removes this rule – or resets to default if this is the only rule defined.
        </p>
                     </body>
                     
                  </topic>
                  <topic xml:lang="en-us" id="collect_images_usage_rules_narrow">
                     <title>narrow down search</title>
                     <body>
                        <p>
          Adds a new rule which is combined with the previous rule(s) in a logical
          <i>AND</i> operation. An image is only part of the collection if it
          additionally fulfills the added rule.
        </p>
                     </body>
                     
                  </topic>
                  <topic xml:lang="en-us" id="collect_images_usage_rules_more">
                     <title>add more images</title>
                     <body>
                        <p>
          Adds a new rule which is combined with the previous rule(s) in a logical
          <i>OR</i> operation. Images that fulfill the new rule are added to the
          collection.
        </p>
                     </body>
                     
                  </topic>
                  <topic xml:lang="en-us" id="collect_images_usage_rules_exclude">
                     <title>exclude images</title>
                     <body>
                        <p>
          Adds a new rule which is combined with the previous rule(s) in a logical
          <i>EXCEPT</i> operation. Images which are selected by the new rule are
          exempted from the collection.
        </p>
                     </body>
                     
                  </topic>
               </topic>
               <topic xml:lang="en-us" id="collect_images_usage_combining">
                  <title>combining rules</title>
                  <body>
                     <p>
        The logical operators defining the combination of rules are displayed to the right of
        the rule: <i>AND</i> by the
        <image href="../images/lighttable_icon_and.png" align="center"/>
        symbol, <i>OR</i> by the
        <image href="../images/lighttable_icon_or.png" align="center"/>
        symbol, and <i>EXCEPT</i> by the
        <image href="../images/lighttable_icon_except.png" align="center"/>
        symbol. Clicking on either symbol gives a choice to change the logical operation.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="collect_images_usage_update">
                  <title>updating folder path</title>
                  <body>
                     <p>
        While it is best to not touch imported files behind darktable's back, this module can
        help you recover from situations when you move imported folders after import. The
        collect images module has a feature that allows you to tell darktable about the new
        location of imported folders which have been moved. You set the combobox to
        <i>folders</i> to find the original folder name in the tree. The folder
        name will be displayed striked-out to emphasize that it is no longer there. Then you
        right-click on the folder name, select <q>search filmroll...</q>, and then
        select the new location of the folder.
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="recently_used_collections">
            <title>Recently used collections</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>recently used
                        collections</indexterm></indexterm>
                     <indexterm>recently used collections</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     
                     <tbody>
                        <row>
                           <entry>
            This panel keeps track of the latest collections you have used, so you can jump to
            recently used collections without remembering what rules were specified in the
            collection.
          </entry>
                           <entry>
                              <image href="images/panel_recent_collections.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            
         </topic>
         <topic xml:lang="en-us" id="timeline">
            <title>Timeline</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>timeline</indexterm></indexterm>
                     <indexterm>timeline</indexterm>
                     <indexterm>select date</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <p>
                  <image href="images/timeline.png"
                         align="center"
                         placement="break"/>
               </p>
               <p>
    In lighttable filemanager, you can display a timeline in the bottom panel with the shortcut <i>Ctrl+F</i>
    This allow you to see the repartition of all your images by date-time.
  </p>
               <p>
    Inside timeline, you can show next and previous dates with <i>mouse scroll</i>.
    <i>Ctrl+scroll</i> allow you to zoom in/out the timeline.
  </p>
               <p>
    You can also use timeline to select images by date range with mouse click + pan.
  </p>
            </body>
            
         </topic>
         <topic xml:lang="en-us" id="image_information">
            <title>Image information</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>image
                        information</indexterm></indexterm>
                     <indexterm>image information</indexterm>
                     <indexterm>Exif data</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            This panel shows information embedded within an image's Exif data. When hovering
            with the mouse over thumbnails, darktable will update this view, displaying
            information of the image currently under the mouse cursor. This panel is also
            available in darkroom, tethering, map, and print view.
          </entry>
                           <entry>
                              <image href="images/panel_metadata.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            
         </topic>
         <topic xml:lang="en-us" id="select">
            <title>Select</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>selecting images</indexterm></indexterm>
                     <indexterm>selecting images</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            This panel allows for a quick selection of images, according to some common
            criteria.
          </entry>
                           <entry>
                              <image href="images/panel_select.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            <topic xml:lang="en-us" id="select_usage">
               <title>Usage</title>
               <topic xml:lang="en-us" id="select_usage_all">
                  <title>select all</title>
                  <body>
                     <p>
        Select all images in the current view (collection), with respect to the filters.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="select_usage_none">
                  <title>select none</title>
                  <body>
                     <p>
        De-select all images.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="select_usage_invert">
                  <title>invert selection</title>
                  <body>
                     <p>
        Select all images that are not currently selected.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="select_usage_filmroll">
                  <title>select film roll</title>
                  <body>
                     <p>
        Select all images that are in the same film roll as the currently selected images.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="select_usage_untouched">
                  <title>select untouched</title>
                  <body>
                     <p>
        Select all images that have not yet been developed.
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="selected_images">
            <title>Selected image(s)</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>selected images</indexterm></indexterm>
                     <indexterm>selected images</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            This panel provides some actions that operate on selected images.
          </entry>
                           <entry>
                              <image href="images/panel_selectedimages.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            <topic xml:lang="en-us" id="selected_images_usage">
               <title>Usage</title>
               <body/>
               <topic xml:lang="en-us" id="selected_images_usage_remove">
                  <title>remove</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>remove images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Remove the selected images from the darktable database. Those images will not be shown
        in lighttable anymore, but remain on the filesystem. As darktable stores XMP files with
        your development parameters on disk, you can later fully reconstruct your work by just
        re-importing the images.
      </p>
                     <p>
        When backing up your RAWs make sure to also save the XMP files!
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_delete">
                  <title>delete/trash</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>delete images</indexterm>
                           <indexterm>trash images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Eliminate the selected images from the darktable database and remove the image files
        from their respective locations. Depending on the setting of config parameter
        <q>send files to trash when erasing images</q> (<xref href="../preferences/preferences.dita#gui_options"/>)
        this either irrevocably deletes the images from filesystem or puts them into your
        system's trash bin.
      </p>
                     <p>
        See also preference option <q>ask before erasing images from disk</q>
                        (<xref href="../preferences/preferences.dita#gui_options"/>). If this configuration option is not active, darktable
        will delete/trash the file(s) without further question.
      </p>
                     <p>
        When deleting an image with duplicates, darktable keeps the original input file on disk
        until the last of the duplicates gets deleted.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_move">
                  <title>move</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>move images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Physically move selected images (parent file plus all accompanying XMP sidecar files) to
        another filesystem folder. darktable does not overwrite images in the target folder. If
        an input image with the given filename already exists in the target folder the source
        image is not moved but kept where it is.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_copy">
                  <title>copy</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>copy images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Physically copy selected images (parent file plus accompanying XMP sidecar file) to
        another filesystem folder. If an image with the given name already exists in the target
        folder it does not get overwritten – instead a new duplicate with the given
        history stack is generated.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_hdr">
                  <title>create hdr</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>HDR images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Create a high dynamic range image from the selected images, and store it as a new source
        file in DNG format. Images need to be properly aligned, which implies that they have
        been taken on a sturdy tripod. You can also generate HDRs with programs like
        <xref href="http://qtpfsgui.sourceforge.net/"
                              format="html"
                              scope="external">
                           <i>Luminance
        HDR</i>
                        </xref>, and later import them into darktable for further processing (see
        <xref href="#supported_file_formats"/>). Note that darktable will only creates HDR
        images from raw files.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_duplicate">
                  <title>duplicate</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>create images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Create a virtual copy of selected images within darktable. It allows testing different
        developments for the same image, for example. Duplicate images share the same parent
        input file, but each have their own XMP sidecar file.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_rotation">
                  <title>rotation</title>
                  <body>
                     <p>
        Perform a counter-clockwise or clockwise rotation on selected images. The third button
        resets the image rotation to the value in the Exif data. This feature is directly linked
        to the orientation module (see <xref href="orientation"/>) – adjustments
        are converted into history stack items of that module.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_copy_locally">
                  <title>copy locally</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>local copies</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        This action will create local copies of the selected images into the local drive. These
        copies will then be used when the original images are not accessible (see
        <xref href="#local_copies"/>).
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_resync">
                  <title>resync local copy</title>
                  <body>
                     <p>
        This action will synchronize the XMP sidecars of the temporary local copy and the copy
        in external storage, if needed, and will remove the local copies. Note that if a local
        copy has been modified and the external storage is not accessible the local copy won't
        be deleted (see <xref href="#local_copies"/>).
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_group">
                  <title>group</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>group images</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Create a new group from selected images (see <xref href="#image_grouping"/>).
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="selected_images_usage_ungroup">
                  <title>ungroup</title>
                  <body>
                     <p>
        Remove selected images from the group (see <xref href="#image_grouping"/>).
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="history_stack">
            <title>History stack</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>history stack</indexterm></indexterm>
                     <indexterm>history stack</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            This panel allows manipulating the history stack (development) of images. For each
            image, development is written in a sidecar file (.xmp), and is fully
            non-destructive.
          </entry>
                           <entry>
                              <image href="images/panel_historystack.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            <topic xml:lang="en-us" id="history_stack_usage">
               <title>Usage</title>
               <topic xml:lang="en-us" id="history_stack_usage_copy">
                  <title>copy</title>
                  <body>
                     <p>
        Copy the history stack of the selected image. You will be prompted for which items are
        to be included. If more than one image is selected, the history stack is taken from the
        image that has been selected first.

        A double-click on an item copies that item only and close the dialog.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_copy_all">
                  <title>copy all</title>
                  <body>
                     <p>
        Copy the complete history stack of the first selected image; all items will be included.
        If more than one image is selected, the history stack is taken from the image that has
        been selected first.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_discard">
                  <title>discard</title>
                  <body>
                     <p>
        Physically delete the history stack of the selected images. Beware, this action can not
        be undone!
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_paste">
                  <title>paste</title>
                  <body>
                     <p>
        Paste a previously copied history stack onto all selected images. You will be prompted
        for which items to include. This button is greyed out, until a history stack is copied
        from another image.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_paste_all">
                  <title>paste all</title>
                  <body>
                     <p>
        Paste all previously copied items of a history stack onto all selected images. This
        button is greyed out, until a history stack is copied from another image.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_mode">
                  <title>mode</title>
                  <body>
                     <p>
        This setting defines how a new history stack behaves when pasted on an image that
        already has a history stack. In simple terms the <q>overwrite</q> mode deletes
        the previous history stack, whereas <q>append</q> will concatenate the two
        history stacks.
      </p>
                     <p>
        A copied history stack can have multiple entries of the same module either with the
        same name (see <xref href="history"/>) or with different names (see
        <xref href="multiple_instances"/>) and pasting behaves differently depending on the
        mode setting. On append mode, modules from the source image will be merged into the
        destination image in the following way: for each copied module of the source image, if
        there is a module in the destination image with the same name it will replace it. If
        there is not a such module, a new instance will be created. In both cases the instance
        is placed on top of the history stack. The <q>copy all</q>/<q>paste
        all</q> action with this mode will only copy the respective last instance of all
        modules with the same name to the source image.
      </p>
                     <p>
        In overwrite mode the behavior is the same except that the history of the destination
        image is deleted before the paste operation. The <q>copy all</q>/<q>paste
        all</q> action with this mode works differently; it will make an exact duplicate of
        the source image history to the destination image with all instances of all names of the
        modules.
      </p>
                     <note> if you use <q>overwrite</q> mode to paste history stack entries to the
                        images that wasn't opened in darkroom previously, i.e. the automatic module
                        presets weren't already applied to the image, next time you open said image
                        in darkroom, the automatic presets will be applied to the image. So it may
                        seem as if the <q>overwrite</q> mode did not actually override the existing
                        history stack, but in fact it did override it, and the rest was added later. </note>
                     <note type="caution"> Caution: only in <q>append</q> mode you keep the option
                        to later reconstruct your existing history stack whereas in <q>overwrite</q>
                        mode your previous edit gets irrevocably lost. Beware, the setting of this
                        parameter remains effective when you quit darktable. </note>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_load_xmp">
                  <title>load sidecar file</title>
                  
                  <prolog>
                     <metadata>
                        <keywords>
                           <indexterm>sidecar files</indexterm>
                           <indexterm>XMP files</indexterm>
                        </keywords>
                     </metadata>
                     
                  </prolog>
                  <body>
                     <p>
        Opens a dialog box to select an XMP file, thus loading a history stack that you can
        paste on images.
      </p>
                     <p>
        Files that were exported by darktable typically contain the full history stack if the
        file format supports embedded metadata (see <xref href="#export_selected"/> about this
        feature and its limitations). You can load an exported image as a sidecar file in the
        same way as you do with an XMP file. This feature allows you to recover all parameter
        settings in case you have accidentally lost or overwritten the XMP file. All you need is
        the source image, typically a raw, and the exported file.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="history_stack_usage_write_xmp">
                  <title>write sidecar files</title>
                  <body>
                     <p> Write XMP sidecar files for all selected images. The filename is generated
                        by appending <filepath>.xmp</filepath> to the name of the underlying input
                        file. </p>
                     <p>
        By default darktable generates and updates sidecar files automatically whenever you work
        on an image and change the history stack. You can disable automatic sidecar file
        generation in the preferences dialog (see <xref href="../preferences/preferences.dita#core_options"/>). However, this
        is not recommended.
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="styles">
            <title>Styles</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>styles</indexterm></indexterm>
                     <indexterm>styles</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            This panel provides a powerful functionality in darktable: storing a history stack
            as a style, and applying it to other images. Styles are created within this panel or
            in the darkroom (see <xref href="history"/>). They are managed within this
            lighttable panel, which allows you to create, apply, edit and delete styles.
          </entry>
                           <entry>
                              <image href="images/panel_styles.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            <topic xml:lang="en-us" id="styles_usage">
               <title>Usage</title>
               <body>
                  <p>
      This panel displays a list of all available styles. A search field above the list allows
      you to input a text string which is compared against the styles' names and descriptions,
      thus limiting the list to the matching ones.
    </p>
                  <p>
      Double clicking on a style name applies the style to all selected images.
    </p>
               </body>
               <topic xml:lang="en-us" id="styles_usage_duplicate">
                  <title>create duplicate</title>
                  <body>
                     <p>
        When applying a style to selected images, activating this box creates a duplicate of the
        image before applying the style. Disable this option if you want to try various styles
        without creating multiple duplicates; beware that in this case any existing history
        stack gets overwritten and cannot be recovered.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="styles_usage_create">
                  <title>create</title>
                  <body>
                     <p>
        This creates new styles out of the history stacks of the selected images. For each image
        a style creation window pops up. You need to supply a unique name for the new style and
        you can add an additional descriptive text. You have the option to de-select those
        history stack items which you want to not be part of the newly created style.
      </p>
                     <p> The panel supports a hierarchical view, this means you can create
                        categories using the pipe symbol <codeph>|</codeph> as a separator. For
                        example <codeph>print|tone curve +0.5 EV</codeph> will create a print
                        category. </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="styles_usage_edit">
                  <title>edit</title>
                  <body>
                     <p>
        Styles are collections of history stack items. After pressing <q>edit</q>, you
        are prompted with a dialogue to include or exclude specific items from the stack. Check
        option <q>duplicate</q> if you want to create a new style, instead of
        overwriting the existing one; you need to provide a new unique style name in this case.
      </p>
                     <p>
        See <i>create</i> how to create a hierarchical view.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="styles_usage_delete">
                  <title>delete</title>
                  <body>
                     <p>
        This deletes the selected style, without further question.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="styles_usage_import">
                  <title>import</title>
                  <body>
                     <p>
        You can import a style which has been previously saved by darktable. darktable stores
        styles as XML files with the extension <q>.dtstyle</q>.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="styles_usage_export">
                  <title>export</title>
                  <body>
                     <p>
        This option saves a selected style to disk as a <q>.dtstyle</q> file. This
        allows publishing styles and sharing styles with other users.
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="geotagging">
            <title>Geotagging</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>geo tagging</indexterm></indexterm>
                     <indexterm>geo tagging</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            Use this panel to import and apply GPX track data on a selection of images.
            Alternatively, you can manually geotag images within the <i>Map</i>
            view (see <xref href="map_chapter"/>).
          </entry>
                           <entry>
                              <image href="images/panel_geotagging.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            <topic xml:lang="en-us" id="geotagging_usage">
               <title>Usage</title>
               <body>
                  <p>
      A GPS receiver calculates its current position based on the information it receives from
      satellites and records them in a GPX file – together with the current date and
      time. The Exif data of the images also contains a time stamp defined by the camera
      settings. darktable takes the time stamp of the image, looks-up the position in the GPX
      file at that time, and stores the coordinates (latitude/longitude/elevation) in its
      database and the image's XMP sidecar file.
    </p>
                  <p>
      There may occur two problems. In contrast to GPS devices, most cameras don't record the
      accurate time. Secondly, the time stored in the Exif data doesn't contain a time zone.
      Most people set their camera to local time, while the GPS devices store the time in UTC
      (Universal Time, Coordinated), i.e. Greenwich (London) time zone. If the time zones of
      camera and GPX file differs, than the related location will be wrong.
    </p>
                  <p>
      If your image already carries the UTC time stamp you can directly apply the GPX track
      without further adjustments.
    </p>
                  <p>
      Otherwise we take two steps to correlate the time of camera and GPS tracker, first the
      offset, then the time zone.
    </p>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
                                 <p>
                To fix the drift of the camera time setting you can either enter it manually
                into the offset input field or let darktable calculate it. All you need is a
                picture taken of a reliable time source.
              </p>

                                 <p>
                This can be any precise clock or even better the time displayed on your GPS
                device (normally it shows the local time, although it stores universal time).
              </p>
                              </entry>
                              <entry>
                                 <image href="images/panel_geotagging_ex1.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>
                When you have this image selected you can click on the (looking glass) button
                and darktable will present you an entry box. Just enter the time that is shown
                on the image. As a result you will get the difference between the time you
                entered and the one associated with the image in its Exif data.
              </p>

                                 <p>
                Now you can select all the images you want to geotag and click the apply button
                (currently represented by a check mark). This will alter the time in darktable's
                internal database for these pictures – so you will also see the
                change in the image information module on the left.
              </p>
                              </entry>
                              <entry>
                                 <image href="images/panel_geotagging_ex2.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                           <row>
                              <entry>
                                 <p>
                Now you can apply a GPX track. Click the corresponding button and navigate to
                the GPX file. Before confirming that dialog you should select the corresponding
                time zone for your camera in the drop-down-menu.
              </p>
                              </entry>
                              <entry>
                                 <image href="images/panel_geotagging_ex3.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
                  <p>
      Should you ever make a mistake with the time zone selection you can just come back and
      reapply the GPX file with a different time zone.
    </p>
               </body>
               
            </topic>
         </topic>
         <topic xml:lang="en-us" id="metadata_editor">
            <title>Metadata editor</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>metadata editor</indexterm></indexterm>
                     <indexterm>metadata editor</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            Edit metadata of an image, like <i>title</i>,
            <i>description</i>, <i>creator</i>,
            <i>publisher</i>, or <i>rights</i>. You can define your
            own presets if you want to apply specific settings frequently.
          </entry>
                           <entry>
                              <image href="images/panel_metadata_editor.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </body>
            <topic xml:lang="en-us" id="metadata_editor_usage">
               <title>Usage</title>
               <body/>
               <topic xml:lang="en-us" id="metadata_editor_usage_clear">
                  <title>clear</title>
                  <body>
                     <p>
        Delete existing metadata from the selected image(s).
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="metadata_editor_usage_apply">
                  <title>apply</title>
                  <body>
                     <p>
        Apply new settings, as defined in the fields above, to the selected image(s).
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="tagging">
            <title>Tagging</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>tagging</indexterm></indexterm>
                     <indexterm>tags</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <topic xml:lang="en-us" id="tagging_overview">
               <title>Overview</title>
               <body>
                  <table frame="none">
                     <tgroup colsep="0" rowsep="0" cols="2">
                        <colspec colwidth="6*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                           <row>
                              <entry>
                                 <p>
                This panel allows managing tags on images. Tags are stored in both XMP sidecar files
                and within the darktable database.
              </p>
                                 <p>
                Tags provide the means of adding information to the images within a given keyword dictionary.
                You can manage tags as a hierarchical tree, which is useful when their number becomes large.
              </p>
                                 <p> Unlike child tags, parent tags do not add information to the
                                    image, but rather represent categories. For example, in the
                                       <codeph>color|white</codeph> tag <q>color</q> is a category
                                    for the <q>white</q> tag. </p>
                              </entry>
                              <entry>
                                 <image href="images/panel_tagging-default.png"
                                        align="center"
                                        placement="break"/>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
                  <p>
      The panel contains two views:
      <ul>
                        <li>
                           <p>
          The upper <q>attached tags</q> view displays tag(s) that are currently attached to the image
          under the cursor or the selected image(s), if the cursor is outside the center area of the lighttable view.
        </p>
                        </li>
                        <li>
                           <p>
          The lower <q>tag dictonary</q> view displays all tags that are available in the database.
          </p>
                        </li>
                     </ul>
                  </p>
               </body>
               <topic xml:lang="en-us" id="tagging_tag_properties">
                  <title>tag properties</title>
                  <body>
                     <p>
        Besides its name the tag can set as private or as a category.
        It can also be attached synonyms.
        These attributes help to control the information you join to exported images.
        These information are related to <q>XMP-dc Subject</q> and
        <q>XMP-lr Hierarchical Subject</q> metadata.
      </p>
                     <p>
        A tag set as <q>private</q> is by default not exported. The configuration point
        "force exportation of private tags" allows you to keep private tags on exported images.
        Both <q>XMP-dc Subject</q> and <q>XMP-lr Hierarchical Subject</q> are affected.
      </p>
                     <p>
        A tag set as <q>category</q> is not exported in <q>XMP-dc Subject</q>.
        However it is exported in <q>XMP-lr Hierarchical Subject</q> as this XMP metadata
        holds the organization of your tags.
      </p>
                     <p>
                        <q>synonyms</q> enriches the tag information and is mainly destined to search engines.
        For example <q>juvenile</q>, <q>kid</q> or <q>youth</q>
        can be set as synonyms of <q>child</q>.
        An other usage is to translate the tag in other languages.
        The configuration point "request exportation of synonyms", when set, makes the image exportation
        add synonyms to <q>XMP-dc Subject</q> metadata.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_displayed_information">
                  <title>displayed information</title>
                  <body>
                     <fig>
                        <image href="images/panel_tagging-attached.png" align="center"
                           placement="break"/>
                     </fig>
                     <p>
        The attached tags and tag dictionary views display additional information on the sides of the tag:

        <ul>
                           <li>
                              <p>
            On the left, an indicator gives the status of the tag in relation to the selected images:

            <ul>
                                    <li>
                                       <p>
                A <q>check-mark</q> means that the tag is attached to all selected images.
              </p>
                                    </li>
                                    <li>
                                       <p>
                A <q>minus</q> means that the tag is attached to at least one selected image.
                In tree view, for a parent tag it also means that at least one child tag is attached to
                at least one of the selected images.
              </p>
                                    </li>
                                    <li>
                                       <p>
                Absence of any marking in the tag dictionary view means that the tag exists in the database,
                but is not attached to any of the selected images. In tree view, for a parent tag it also means
                that none of its child tags is attached to any of the selected images.
              </p>
                                    </li>
                                 </ul>
                              </p>
                           </li>
                           <li>
                              <p>
            On the right, the number in parentheses gives the attached image count. In the attached tags
            view, this count refers to the selected images, while in the tag dictionary view it refers to the whole database.
          </p>
                           </li>
                        </ul>

                     </p>
                     <p>
        An <i>italic</i> tag is considered as a category. A category is a tag which helps
        to organize the tags but doesn't bring information to the image. A category is not exported.
      </p>
                     <p>
        Right-clicking on the tag opens a submenu with available commands.
      </p>
                     <fig>
                        <image href="images/panel_tagging-submenu.png" align="center"
                           placement="break"/>
                     </fig>
                     <p>
        Hovering cursor over a tag displays an overlay with basic usage instructions for the tagging panel.
      </p>
                     <fig>
                        <image href="images/panel_tagging-overlay.png" align="center"
                           placement="break"/>
                     </fig>
                     <p>
        The list views are controlled with the three upper graphic buttons:
      </p>
                     <p>
        By default the full tag name is shown. The list is sorted alphabetically and
        the attached view includes the darktable tags.
      </p>
                     <p>
        the toggle button
        <image href="../images/tagging_icon_dt_tag.png" align="center"/>
        hides or shows the automatic darktable tags.
      </p>
                     <p>
                        <image href="images/panel_tagging-dttag.png"
                               align="center"
                               placement="break"/>
                     </p>
                     <p>
        the toggle button
        <image href="../images/tagging_icon_sort.png" align="center"/>
        sorts the list alphabetically or by number of tagged images.
      </p>
                     <p>
                        <image href="images/panel_tagging-sort.png"
                               align="center"
                               placement="break"/>
                     </p>
                     <p>
        the toggle button
        <image href="../images/tagging_icon_short_name.png" align="center"/>
        shows the short or long tag name.
      </p>
                     <p>
                        <image href="images/panel_tagging-short.png"
                               align="center"
                               placement="break"/>
                     </p>
                     <p>
        You can adjust height of the attached tags and tag dictionary list views using Ctrl+wheel.
        The updated list view height is kept for new darktable sessions.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_view_selection">
                  <title>view selection</title>
                  <body>
                     <p>
        The choice of views is controlled with the two bottom graphic buttons:
      </p>
                     <table frame="none">
                        <tgroup colsep="0" rowsep="0" cols="2">
                           <colspec colwidth="6*"/>
                           <colspec colwidth="4*"/>
                           <tbody>
                              <row>
                                 <entry>
                                    <p>
                  the toggle button
                  <image href="../images/tagging_icon_tree.png" align="center"/>
                  shows the tag dictionary as a list or as a tree.
                </p>
                                    <p>
                  Tip: Shift+click on tree node fully expands it (all sub-levels).
                </p>
                                 </entry>
                                 <entry>
                                    <image href="images/panel_tagging-treebutton.png"
                                           align="center"
                                           placement="break"/>
                                 </entry>
                              </row>
                              <row>
                                 <entry>
                                    <p>
                  the toggle button
                  <image href="../images/tagging_icon_suggestion.png" align="center"/>
                  switches the list to suggestions or full dictionary tag list (inactive on tree view).
                  The suggestions list is based on already attached tags on selected images.
                </p>
                                 </entry>
                                 <entry>
                                    <image href="images/panel_tagging-suggbutton.png"
                                           align="center"
                                           placement="break"/>
                                 </entry>
                              </row>
                           </tbody>
                        </tgroup>
                     </table>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_text_entry">
                  <title>text entry</title>
                  <body>
                     <p>
        The text entry box, between the two lists, has multiple purposes.
      </p>
                     <p>
        First, for those who like not to leave the keyboard, when the dictionary view is in list mode,
        as soon as you start to enter a keyword, it opens a list of corresponding tags.
        When you see the one you look for, use the <q>down</q> arrow
        to highlight it, press twice <q>enter</q> to get the tag attached !
      </p>
                     <p>
        Those for who this procedure is not convenient can deactivate this function using
        the configuration "disable the entry completion".
      </p>
                     <p>
        Besides this, the entry box lets you filter the dictionary (list and tree) just below searching
        amongst the tag names but also the synonyms.
      </p>
                     <p>
        Pressing enter, either the tag just written does not exist in the dictionary.
        In such a case the new tag is added to the dictionary and attached to the selected images.
        Or it is already in the dictionary and it's only attached.
      </p>
                     <p>
        You can use the submenu <q>copy to entry</q> to copy an existing tag
        from the dictionary into the entry box.
        Then you can modify it to create a new tag without having
        to type it in completely.
      </p>
                  </body>
                  
               </topic>
            </topic>
            <topic xml:lang="en-us" id="tagging_usage">
               <title>Usage</title>
               <topic xml:lang="en-us" id="tagging_usage_create">
                  <title>create</title>
                  <body>
                     <p>
        New tags get added to the list in different ways.
      </p>
                     <p>
        On import of a text file. You can import whatever text file as soon as it follows
        the lightroom tagging file format. It is possible to import several files.
        It is also possible to export your tags, add information in it and re-import it.
        As long as you don't change the tag name, the import function updates the existing
        tags with new information and create the new ones.
      </p>
                     <p>
        On import of already tagged images. This is not a well controlled way especially
        if your dictionary is hierarchical.
      </p>
                     <p>
        In submenu <q>create tag</q>. A tag can be created manually, under an
        existing one (hierarchical) or at the root level.
      </p>
                     <fig>
                        <image href="images/panel_tagging-create.png" align="center"
                           placement="break"/>
                     </fig>
                     <p>
        By typing into the text box and pressing the <q>new</q> button.
        Hierarchical tags are created using the pipe symbol <q>|</q>.
        Note that the tag is also attached to selected images.
      </p>
                     <p>
        As you may notice there are automatically created tags like <q>darktable|exported</q>
        or <q>darktable|styles|your style</q>, which keep track of your
        actions and let you easily find already exported images or images with specific styles
        applied.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_usage_edit_rename">
                  <title>edit, rename</title>
                  <body>
                     <p>
        The maintenance of the dictionary can be done through <q>edit tag...</q>
        and <q>rename path...</q> submenu (right-click on dictionary view tag).
      </p>
                     <p>
        The command <q>edit tag...</q> shows the number of tags and images which are
        potentially impacted by a change of this tag.
        The edit window lets the user change the name of a node on the path but not the rest of the path
        of hierarchical tags (pipe symbol <q>|</q> not allowed).
        The command is aborted if there is at least one tag corresponding to the new name.
        <q>private</q>, <q>category</q> flags and <q>synonyms</q>
        can be change here.
      </p>
                     <fig>
                        <image href="images/panel_tagging-edit.png" align="center"
                           placement="break"/>
                     </fig>
                     <p>
        The command <q>rename path...</q> appears only on the tree view and shows
        the number of tags and images which are potentially impacted by a change of this tag.
        The rename path window lets the user change the full path of tag. You can or remove the pipe symbol
        <q>|</q>. This command is powerful but you must know what your doing.
        The command is aborted if there is at least one tag corresponding to the new path.
      </p>
                     <fig>
                        <image href="images/panel_tagging-renamepath.png" align="center"
                           placement="break"/>
                     </fig>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_usage_attach">
                  <title>attach</title>
                  <body>
                     <p>
        Selected tags are attached to selected images with the following actions.
      </p>
                     <p>
        Click on button <q>attach</q> attaches the selected tag in dictionary.
      </p>
                     <p>
        Click-right on a tag of dictionary view and sub-menu <q>attach tag</q>
                     </p>
                     <p>
        Double-click on a tag of dictionary view.
      </p>
                     <p>
        Click-right on a tag of attached view and sub-menu <q>attach tag to all</q>
                     </p>
                     <p>
        by typing into the text box and pressing the <q>new</q> button or enter.
        Note that the tag is also created if doesn't exist already.
      </p>
                     <p>
        Ctrl+T opens a small text box at the bottom of the central view for quickly
        tagging your selected images by typing a tag phrase and hitting return.
      </p>
                     <p>
        Hovering the images in ligthtable you can control the already attached tags either
        on the attached view and in image information as well.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_usage_detach">
                  <title>detach</title>
                  <body>
                     <p>
        An attached tag can be detached in the following ways.
      </p>
                     <p>
        Click on button <q>detach</q> detaches the selected tag in attached view.
      </p>
                     <p>
        Double-click on a tag of attached view.
      </p>
                     <p>
        Click-right on a tag of attached view and sub-menu <q>detach</q>
                     </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_usage_delete">
                  <title>delete</title>
                  <body>
                     <p>
        Delete a tag from the list and from all images. A warning will be displayed on how many
        images have this tag attached. Take this warning seriously as there is no way to recover
        or later find the affected images (except backup).
        A tag in dictionary view can be deleted in the following ways.
      </p>
                     <p>
        Click on button <q>delete</q> delete the selected one.
      </p>
                     <p>
        Click-right on a tag of dictionary view and sub-menu <q>delete tag</q>.
      </p>
                     <p>
        Click-right on a tag of dictionary view and sub-menu <q>delete branch</q>.
        In that case the tag itself and sub tags are deleted.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_usage_import_export">
                  <title>import - export</title>
                  <body>
                     <p>
        The button <q>import</q> let you choose a text file, which must follows
        the lightroom tag text file format and import its content.
        If a tag already exists, its properties will be updated.
        Otherwise the tag is created.
      </p>
                     <p>
        The button <q>export</q> exports all your tag dictionary into a text
        file of your choice (lightroom tag text file format).
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="tagging_usage_navigation">
                  <title>navigation</title>
                  <body>
                     <p>
        Right-click on an attached tag (count not null) in the dictionary view make appear in
        the submenu an entry <q>go to tag collection</q>. This opens the collection
        associated to this tag and let you see the images which have this tag attached.
        It is possible to jump from one tag collection to the other.
      </p>
                     <p>
        To come back to the original collection, where you were working before moving to
        a tag collection, the submenu presents the entry <q>go back to work</q>.
        This option is kept as long your don't change the collection in collect module and
        you are not back to the original collection.
      </p>
                  </body>
                  
               </topic>
            </topic>
         </topic>
         <topic xml:lang="en-us" id="export_selected">
            <title>Export selected</title>
            
            <prolog>
               <metadata>
                  <keywords>
                     <indexterm>lighttable panels<indexterm>export</indexterm></indexterm>
                     <indexterm>export</indexterm>
                     <indexterm>file export</indexterm>
                  </keywords>
               </metadata>
               
            </prolog>
            <body>
               <table frame="none">
                  <tgroup colsep="0" rowsep="0" cols="2">
                     <colspec colwidth="6*"/>
                     <colspec colwidth="4*"/>
                     <tbody>
                        <row>
                           <entry>
            Workflow ends in this panel with the exporting of your developed images. You can
            export to a file on disk, email, various on-line storage places, a webalbum, or a
            book template. <i>Tip: you can use Ctrl+E from within the darkroom mode to
            export.</i>
                           </entry>
                           <entry>
                              <image href="images/panel_exportselected.png"
                                     align="center"
                                     placement="break"/>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
               <p>
    All settings in this panel can be saved for later reuse. Press the
    <image href="../images/darkroom_module_icon_presets.png" align="center"/>
    button to manage your presets.
  </p>
            </body>
            <topic xml:lang="en-us" id="export_selected_usage">
               <title>Usage</title>
               <topic xml:lang="en-us" id="export_selected_usage_storage">
                  <title>target storage</title>
                  <body>
                     <p>
        Where to store your selected images. Different back-ends are implemented, including file
        on disk, a LaTeX book template and various web albums. Depending on the selected target,
        you will be asked to give additional information, like filenames, or account name and
        password.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_filename">
                  <title>filename template</title>
                  <body>
                     <p>
        You can define filenames that darktable generates for export. Several pre-defined
        variables can be used as placeholders:
      </p>
                     <table frame="none">
                        <tgroup colsep="0" rowsep="0" cols="2">
                           <tbody>
                              <row>
                                 <entry>
                                    <codeph>$(ROLL_NAME)</codeph>
                                 </entry>
                                 <entry>
                roll of the input image
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(FILE_FOLDER)</codeph>
                                 </entry>
                                 <entry>
                folder containing the input image
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(FILE_NAME)</codeph>
                                 </entry>
                                 <entry>
                basename of the input image
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(FILE_EXTENSION)</codeph>
                                 </entry>
                                 <entry>
                extension of the input image
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(ID)</codeph>
                                 </entry>
                                 <entry>
                the image id
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(VERSION)</codeph>
                                 </entry>
                                 <entry>
                the duplicate version (see <xref href="#sidecar_files"/>)
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(SEQUENCE)</codeph>
                                 </entry>
                                 <entry>
                a sequence number within export job
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(MAX_WIDTH)</codeph>
                                 </entry>
                                 <entry>
                maximum image width to limit within export session
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(MAX_HEIGHT)</codeph>
                                 </entry>
                                 <entry>
                maximum image height to limit within export session
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(YEAR)</codeph>
                                 </entry>
                                 <entry>
                year at date of export
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(MONTH)</codeph>
                                 </entry>
                                 <entry>
                month at date of export
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(DAY)</codeph>
                                 </entry>
                                 <entry>
                day at date of export
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(HOUR)</codeph>
                                 </entry>
                                 <entry>
                hour at time of export
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(MINUTE)</codeph>
                                 </entry>
                                 <entry>
                minute at time of export
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(SECOND)</codeph>
                                 </entry>
                                 <entry>
                second at time of export
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_YEAR)</codeph>
                                 </entry>
                                 <entry>
                Exif year
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_MONTH)</codeph>
                                 </entry>
                                 <entry>
                Exif month
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_DAY)</codeph>
                                 </entry>
                                 <entry>
                Exif day
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_HOUR)</codeph>
                                 </entry>
                                 <entry>
                Exif hour
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_MINUTE)</codeph>
                                 </entry>
                                 <entry>
                Exif minute
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_SECOND)</codeph>
                                 </entry>
                                 <entry>
                Exif second
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_EXPOSURE)</codeph>
                                 </entry>
                                 <entry>
                Exif exposure
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_APERTURE)</codeph>
                                 </entry>
                                 <entry>
                Exif aperture
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_FOCAL_LENGTH)</codeph>
                                 </entry>
                                 <entry>
                Exif focal length
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(EXIF_FOCUS_DISTANCE)</codeph>
                                 </entry>
                                 <entry>
                Exif focus distance
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(LONGITUDE)</codeph>
                                 </entry>
                                 <entry>
                Longitude
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(LATITUDE)</codeph>
                                 </entry>
                                 <entry>
                Latitude
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(ELEVATION)</codeph>
                                 </entry>
                                 <entry>
                Elevation
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(STARS)</codeph>
                                 </entry>
                                 <entry>
                star rating
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(LABELS)</codeph>
                                 </entry>
                                 <entry>
                colorlabels
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(MAKER)</codeph>
                                 </entry>
                                 <entry>
                camera maker
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(MODEL)</codeph>
                                 </entry>
                                 <entry>
                camera model
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(TITLE)</codeph>
                                 </entry>
                                 <entry>
                title from metadata
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(DECRIPTION)</codeph>
                                 </entry>
                                 <entry>
                description from metadata
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(CREATOR)</codeph>
                                 </entry>
                                 <entry>
                creator from metadata
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(PUBLISHER)</codeph>
                                 </entry>
                                 <entry>
                publisher from metadata
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(RIGHTS)</codeph>
                                 </entry>
                                 <entry>
                rights from metadata
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(USERNAME)</codeph>
                                 </entry>
                                 <entry>
                user name
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(PICTURES_FOLDER)</codeph>
                                 </entry>
                                 <entry>
                pictures folder
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(HOME)</codeph>
                                 </entry>
                                 <entry>
                home folder
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(DESKTOP)</codeph>
                                 </entry>
                                 <entry>
                desktop folder
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(TAGS)</codeph>
                                 </entry>
                                 <entry>
                tags list (Xmp.dc.Subject)
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(CATEGORYn$(category))</codeph>
                                 </entry>
                                 <entry>
                tag name of level n [0,3] of selected category (or tag)
              </entry>
                              </row>
                           </tbody>
                        </tgroup>
                     </table>
                     <p>
        All of the variables support basic string substitution inspired by bash. The details
        differ however, for example all patterns are treated as simple string comparisons. There
        is no regex support. For example you can do the following:
        <codeph>$(ROLL_NAME/search/replace)</codeph>
        . This means if your roll name is e.g. <i>1970-01-01_RAW_Time-Begins</i>
        and you use
        <codeph>$(ROLL_NAME/RAW/JPG)</codeph>
        it will result in a roll name of: <i>1970-01-01_JPG_Time-Begins</i>
                     </p>
                     <table frame="none">
                        <tgroup colsep="0" rowsep="0" cols="2">
                           <tbody>
                              <row>
                                 <entry>
                                    <codeph>$(var-default)</codeph>
                                 </entry>
                                 <entry>
                If
                <codeph>var</codeph>
                is empty, use
                <codeph>default</codeph>
                .
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var+alt_value)</codeph>
                                 </entry>
                                 <entry>
                If
                <codeph>var</codeph>
                is set, use
                <codeph>alt_value</codeph>
                , else use empty string.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var:offset)</codeph>
                                 </entry>
                                 <entry>
                                    <codeph>var</codeph>
                starting from
                <codeph>offset</codeph>
                . If
                <codeph>offset</codeph>
                is less than zero it is counted from the back of the string.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var:offset:length)</codeph>
                                 </entry>
                                 <entry>
                At most
                <codeph>length</codeph>
                characters of
                <codeph>var</codeph>
                , starting from
                <codeph>offset</codeph>
                . If
                <codeph>offset</codeph>
                is less than zero it is counted from the back of
                <codeph>var</codeph>
                . If
                <codeph>length</codeph>
                is less than zero it indicates the end of the result, counted from the back of
                <codeph>var</codeph>
                , and not an actual length.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var#pattern)</codeph>
                                 </entry>
                                 <entry>
                Remove
                <codeph>pattern</codeph>
                from the start of
                <codeph>var</codeph>
                .
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var%pattern)</codeph>
                                 </entry>
                                 <entry>
                Remove
                <codeph>pattern</codeph>
                from the end of
                <codeph>var</codeph>
                .
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var/pattern/replacement)</codeph>
                                 </entry>
                                 <entry>
                Replace the first occurrence of
                <codeph>pattern</codeph>
                in
                <codeph>var</codeph>
                with
                <codeph>replacement</codeph>
                . If
                <codeph>replacement</codeph>
                is empty then
                <codeph>pattern</codeph>
                will be removed.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var//pattern/replacement)</codeph>
                                 </entry>
                                 <entry>
                Replace all occurrences of
                <codeph>pattern</codeph>
                in
                <codeph>var</codeph>
                with
                <codeph>replacement</codeph>
                . If
                <codeph>replacement</codeph>
                is empty then
                <codeph>pattern</codeph>
                will be removed.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var/#pattern/replacement)</codeph>
                                 </entry>
                                 <entry>
                If
                <codeph>var</codeph>
                starts with
                <codeph>pattern</codeph>
                then
                <codeph>pattern</codeph>
                is replaced with
                <codeph>replacement</codeph>
                .
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var/%pattern/replacement)</codeph>
                                 </entry>
                                 <entry>
                If
                <codeph>var</codeph>
                ends with
                <codeph>pattern</codeph>
                then
                <codeph>pattern</codeph>
                is replaced with
                <codeph>replacement</codeph>
                .
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var^)</codeph>
                                 </entry>
                                 <entry>
                Make the first character of
                <codeph>var</codeph>
                uppercase.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var^^)</codeph>
                                 </entry>
                                 <entry>
                Make all characters of
                <codeph>var</codeph>
                uppercase.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var,)</codeph>
                                 </entry>
                                 <entry>
                Make the first character of
                <codeph>var</codeph>
                lowercase.
              </entry>
                              </row>
                              <row>
                                 <entry>
                                    <codeph>$(var,,)</codeph>
                                 </entry>
                                 <entry>
                Make all characters of
                <codeph>var</codeph>
                lowercase.
              </entry>
                              </row>
                           </tbody>
                        </tgroup>
                     </table>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_directory">
                  <title>output directory</title>
                  <body>
                     <p>
        Pressing button
        <image href="../images/lighttable_directory.png" align="center"/>
        opens a dialog to select the parent directory for export.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_conflict">
                  <title>on conflict</title>
                  <body>
                     <p>
        If this option is set to <q>create unique filename</q> darktable automatically
        chooses a unique new file name in case of naming conflicts with existing files. Setting
        this to <q>overwrite</q> forces darktable to exactly adhere to the selected
        filename template, overwriting any existing files on conflict. This option will present
        you with a confirmation dialog in order to protect you from accidental data loss. Setting
        this to <q>skip</q> will result in images not being exported when the destination
        filename already exists.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_format">
                  <title>file format</title>
                  <body>
                     <p>
        darktable can export to various file formats. Depending on the output format you can
        define additional parameters. For some formats you need to decide on the desired bit
        depth and the compression method, respectively.
      </p>
                     <p>
        For some export formats like JPEG you can define an output quality. Higher values will
        lead to larger file sizes. The default quality <q>95</q> is a good setting for
        very high quality exports, e.g. for archiving or printing purposes. If you need a good
        compromise between size and quality, e.g. for online image display or uploads, you
        should consider a value of <q>90</q> instead.
      </p>
                     <p>
        If the file format supports embedded metadata, like JPEG, JPEG2000 and TIFF, darktable
        will try to store the history stack as XMP tags within the output file. This information
        can later be used to reconstruct your parameters and settings that have produced the
        exported image (see <xref href="#history_stack"/>).
      </p>
                     <note type="caution"> For various reasons embedding XMP tags into output files
                        may fail without notice, eg. if certain size limits are exceeded. Users are
                        therefore advised to not rely their backup strategy on this feature. To back
                        up your data make sure to save your input (raw) file as well as all of
                        darktable's XMP sidecar files. </note>
                     <p>
        If you don't want to distribute history stack data (or any other type of metadata) with your images
        your can tweak the export metadata configuration.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_size">
                  <title>max size</title>
                  <body>
                     <p>
        Set the maximum width and height of the output images in pixels. Set both to a value of
        <q>0</q> to export with the original dimensions (after cropping). If the values
        exceed the original dimensions darktable will either export with the original dimensions
        or perform an upscaling step, depending on the setting of the following parameter.
      </p>
                     <note type="caution">It's a frequent pitfall to accidentally put low values,
                        like 1 or 10, in these fields, causing darktable to produce miniature output
                        files. You might think darktable's output is broken, but in fact it only
                        generated what you asked for. </note>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_upscaling">
                  <title>allow upscaling</title>
                  <body>
                     <p>
        If set to <q>yes</q> darktable will perform an upscaling step in case the user
        defined maximum width and height exceed the original dimensions. If set to
        <q>no</q> the exported image's dimensions will not exceed the original ones
        (after cropping).
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_profile">
                  <title>profile</title>
                  
                  <prolog>
                     <metadata><keywords></keywords></metadata>
                     
                  </prolog>
                  <body>
                     <p>
        This defines the output color profile. Select <q>image settings</q> if you want
        the settings in the <i>output color profile</i> (see
        <xref href="output_color_profile"/>) module of the individual images to take
        precedence.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_intent">
                  <title>intent</title>
                  
                  <prolog>
                     <metadata><keywords></keywords></metadata>
                     
                  </prolog>
                  <body>
                     <p>
        This option lets you define the intent, i.e. the way darktable will deal with
        out-of-gamut colors. See <xref href="rendering_intent"/> for a more detailed
        description of the available options.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_style">
                  <title>style</title>
                  <body>
                     <p>
        This option lets you choose a style, i.e. a collection of history stack items, which
        darktable combines with the existing history stack to generate the output image. These
        history items are only added temporarily; the original history stack is not overwritten.
        You can use this feature to add processing steps and parameters that you want to be
        applied specifically to images before export, e.g. you may define a style that adds a
        stronger level of sharpening when you produce scaled-down JPEG files for the internet or
        add a certain level of exposure compensation to all of your output images. Learn more
        about styles in <xref href="#styles"/>, and <xref href="history"/>.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_mode">
                  <title>mode</title>
                  <body>
                     <p>
        When applying a style during export this option defines whether the history stack items
        of that style replace the original history stack of the image or are appended to it.
        Technically speaking, in append mode history stack items of the style will constitute
        separate instances of the respective modules on top of any existing ones (see also
        <xref href="multiple_instances"/>). As a consequence the original history stack will
        fully remain in effect with the new items being applied additionally. This way you can
        apply an overall adjustment (e.g. exposure) to a bunch of exported images while
        respecting the settings of each individual image.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_export">
                  <title>export</title>
                  <body>
                     <p>
        Pressing this button starts a background job to export all selected images. A bar at the
        bottom of the left side panel displays the progress. Furthermore a notification message
        pops up reporting the export progress. You may click on the pop-up to make it disappear.
        You may <i>abort</i> the export job by clicking on the
        <image href="../images/lighttable_icon_abort.png" align="center"/>
        icon located close to the progress bar.
      </p>
                  </body>
                  
               </topic>
               <topic xml:lang="en-us" id="export_selected_usage_metadata">
                  <title>metadata</title>
                  <body>
                     <p>
        Pressing the
        <image href="../images/darkroom_preferences.png" align="center"/> icon
        on the right of export button opens a window to configure which metadata are to be embedded
        into the exported image.
      </p>
                     <p>
        Metadata configuration is saved along with other export selected parameters to your favorites presets.
      </p>
                     <p>
                        <image href="images/panel_exportselected-metadata-config.png"
                               align="center"
                               placement="break"/>
        The left part lets you select the groups of metadata to be exported.
        The  entry <i>metadata</i> corresponds to metadata defined in metadata editor.
        Under entry <i>tags</i> you can request the exportation of private tags,
        synonyms and omit to include the path elements of hierarchical tags. Remember that a tag set up as a category is never exported.
      </p>
                     <p>
        The right part lets you define a formula per metadata entry. What you define here
        has priority on the left settings.
        The first column identifies the entry to be edited. The second column is editable and defines the calculation of the metadata entry.
        Leaving the formula empty prevents the exporting of this specific metadata entry (Exif.GPSInfo.GPSVersionID in the above example).
        To define a formula, you can use the same variables and rules as for filenames (as documented in <xref href="#export_selected_usage_filename"/>).
        Press <i>enter</i> to validate the formula.
      </p>
                     <p>
        Use the <q>-</q> icon to remove a metadata entry from the list, the
        <q>+</q> icon to add a new one from the predefined list:
        <image href="images/panel_exportselected-metadata-selection.png"
                               align="center"
                               placement="break"/>
        Double-click or click on button <i>add</i> to add a metadata entry to the configuration list.
      </p>
                     <p>
        The formulas allow you to get the most of the tagging function. You can virtually define
        all the metadata you need to qualify your images in tagging and, thanks to these
        formulas, export the values in the xmp or iptc tags of your choice. The exported tags
        can be different from one export to the other depending on the destination of the images.
        Just remember that tags set as <i>category</i> are not exported.
        Tags and Categories are displayed separately in image information.
      </p>
                     <p>
        Example 1. A first level tag called <i>places</i> is set as a category,
        and is followed by four levels of information (or keywords), country, region, city and location:
        <codeph>places|France|Nord|Lille|rue Nationale</codeph>.
        Each level can be retrieved (when it is defined) by one of the variables
        <codeph>$(CATEGORY0(places))</codeph>, <codeph>$(CATEGORY1(places))</codeph>,
        <codeph>$(CATEGORY2(places))</codeph> and <codeph>$(CATEGORY3(places))</codeph>.
        In that example, the returned values are respectively: <i>France</i>,
        <i>Nord</i>, <i>Lille</i> and <i>rue Nationale</i>.
        These keywords can also be retrieved as simple tags by the variable <codeph>$(TAGS)</codeph>.
        The last keyword level defined (the leaf) is displayed in Image informations, here <i>rue Nationale</i>.
      </p>
                     <p>
        Example 2. A first level tag called <i>creator</i> followed by the name of the photographer,
        both set as <i>category</i>: <codeph>creator|firstname lastname</codeph>.
        The formula <codeph>copyrights $(YEAR) $(CATEGORY0(creator))</codeph> builds the text associated to image rights.
        Image information display in categories the following: <codeph>creator: firstname lastname</codeph>.
        Neither <codeph>creator</codeph> nor <codeph>firstname lastname</codeph> appear in tags list;
        they are also not exported as simple tags.
      </p>
                     <note> Tagging is not appropriate to define free text metadata, like a title or
                        a description, which may be specific to each image. Prefer using the
                        metadata editor for this type of information (see <xref
                           href="#metadata_editor"/>). </note>
                  </body>
                  
               </topic>
            </topic>
         </topic>
      </topic>
   </topic>
</dita>
